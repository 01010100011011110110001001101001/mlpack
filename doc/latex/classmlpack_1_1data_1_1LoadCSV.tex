\section{mlpack\+:\+:data\+:\+:Load\+C\+SV Class Reference}
\label{classmlpack_1_1data_1_1LoadCSV}\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}


Load the csv file.\+This class use boost\+::spirit to implement the parser, please refer to following link {\tt http\+://theboostcpplibraries.\+com/boost.\+spirit} for quick review.  


\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct {\bf Elem\+Parser}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf Load\+C\+SV} ({\bf std\+::string} {\bf file}, bool fatal=false)
\item 
size\+\_\+t {\bf Col\+Size} ()
\item 
{\footnotesize template$<$typename T , typename Map\+Policy $>$ }\\void {\bf Get\+Matrix\+Size} (size\+\_\+t \&rows, size\+\_\+t \&cols, {\bf Dataset\+Mapper}$<$ Map\+Policy $>$ \&info)
\begin{DoxyCompactList}\small\item\em Peek at the file to determine the number of rows and columns in the matrix, assuming a non-\/transposed matrix. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T , typename Map\+Policy $>$ }\\void {\bf Get\+Transpose\+Matrix\+Size} (size\+\_\+t \&rows, size\+\_\+t \&cols, {\bf Dataset\+Mapper}$<$ Map\+Policy $>$ \&info)
\item 
{\footnotesize template$<$typename T , typename Policy\+Type $>$ }\\void {\bf Load} (arma\+::\+Mat$<$ T $>$ \&inout, {\bf Dataset\+Mapper}$<$ Policy\+Type $>$ \&info\+Set, bool transpose=true)
\item 
size\+\_\+t {\bf Row\+Size} ()
\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
using {\bf iter\+\_\+type} = boost\+::iterator\+\_\+range$<$ std\+::string\+::iterator $>$
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool {\bf Can\+Open} ()
\item 
boost\+::spirit\+::qi\+::rule$<$ std\+::string\+::iterator, {\bf iter\+\_\+type}(), boost\+::spirit\+::ascii\+::space\+\_\+type $>$ {\bf Create\+Char\+Rule} () const 
\item 
{\footnotesize template$<$typename T $>$ }\\boost\+::spirit\+::qi\+::rule$<$ std\+::string\+::iterator, T(), boost\+::spirit\+::ascii\+::space\+\_\+type $>$ {\bf Create\+Num\+Rule} () const 
\item 
{\footnotesize template$<$typename T , typename Policy\+Type $>$ }\\void {\bf Non\+Tranpose\+Parse} (arma\+::\+Mat$<$ T $>$ \&inout, {\bf Dataset\+Mapper}$<$ Policy\+Type $>$ \&info\+Set)
\item 
{\footnotesize template$<$typename T , typename Policy\+Type $>$ }\\void {\bf Tranpose\+Parse} (arma\+::\+Mat$<$ T $>$ \&inout, {\bf Dataset\+Mapper}$<$ Policy\+Type $>$ \&info\+Set)
\item 
{\footnotesize template$<$typename T , typename Policy\+Type $>$ }\\bool {\bf Tranpose\+Parse\+Impl} (arma\+::\+Mat$<$ T $>$ \&inout, {\bf Dataset\+Mapper}$<$ Policy\+Type $>$ \&info\+Set)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf std\+::string} {\bf extension}
\item 
bool {\bf fatal\+If\+Open\+Fail}
\item 
{\bf std\+::string} {\bf file\+Name}
\item 
std\+::ifstream {\bf in\+File}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Load the csv file.\+This class use boost\+::spirit to implement the parser, please refer to following link {\tt http\+://theboostcpplibraries.\+com/boost.\+spirit} for quick review. 

Definition at line 36 of file load\+\_\+csv.\+hpp.



\subsection{Member Typedef Documentation}
\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!iter\+\_\+type@{iter\+\_\+type}}
\index{iter\+\_\+type@{iter\+\_\+type}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{iter\+\_\+type}]{\setlength{\rightskip}{0pt plus 5cm}using {\bf mlpack\+::data\+::\+Load\+C\+S\+V\+::iter\+\_\+type} =  boost\+::iterator\+\_\+range$<$std\+::string\+::iterator$>$\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1data_1_1LoadCSV_aca41856ec0293c244c1c95a36e4b9941}


Definition at line 186 of file load\+\_\+csv.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!Load\+C\+SV@{Load\+C\+SV}}
\index{Load\+C\+SV@{Load\+C\+SV}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{Load\+C\+S\+V(std\+::string file, bool fatal=false)}]{\setlength{\rightskip}{0pt plus 5cm}mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Load\+C\+SV (
\begin{DoxyParamCaption}
\item[{{\bf std\+::string}}]{file, }
\item[{bool}]{fatal = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [explicit]}}\label{classmlpack_1_1data_1_1LoadCSV_a3a80fb23a4415455d5583cab79544913}


\subsection{Member Function Documentation}
\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!Can\+Open@{Can\+Open}}
\index{Can\+Open@{Can\+Open}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{Can\+Open()}]{\setlength{\rightskip}{0pt plus 5cm}bool mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Can\+Open (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1data_1_1LoadCSV_aa0ada0f53879df706d266304eac1b3e2}


Referenced by Load(), and mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Elem\+Parser\+::\+Parser().

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!Col\+Size@{Col\+Size}}
\index{Col\+Size@{Col\+Size}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{Col\+Size()}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Col\+Size (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classmlpack_1_1data_1_1LoadCSV_abf39098beb23cc69b050839062ade0e5}


Referenced by Load().

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!Create\+Char\+Rule@{Create\+Char\+Rule}}
\index{Create\+Char\+Rule@{Create\+Char\+Rule}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{Create\+Char\+Rule() const }]{\setlength{\rightskip}{0pt plus 5cm}boost\+::spirit\+::qi\+::rule$<$std\+::string\+::iterator, {\bf iter\+\_\+type}(), boost\+::spirit\+::ascii\+::space\+\_\+type$>$ mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Create\+Char\+Rule (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1data_1_1LoadCSV_a4ea647f72a708737fd989167c2b3a991}


Referenced by Create\+Num\+Rule(), Get\+Matrix\+Size(), Get\+Transpose\+Matrix\+Size(), Non\+Tranpose\+Parse(), and Tranpose\+Parse\+Impl().

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!Create\+Num\+Rule@{Create\+Num\+Rule}}
\index{Create\+Num\+Rule@{Create\+Num\+Rule}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{Create\+Num\+Rule() const }]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ boost\+::spirit\+::qi\+::rule$<$std\+::string\+::iterator, T(), boost\+::spirit\+::ascii\+::space\+\_\+type$>$ mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Create\+Num\+Rule (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\label{classmlpack_1_1data_1_1LoadCSV_af65a3a5b9e33a5926eeed1dfa361e725}


Definition at line 318 of file load\+\_\+csv.\+hpp.



References Create\+Char\+Rule(), and extension.

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!Get\+Matrix\+Size@{Get\+Matrix\+Size}}
\index{Get\+Matrix\+Size@{Get\+Matrix\+Size}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{Get\+Matrix\+Size(size\+\_\+t \&rows, size\+\_\+t \&cols, Dataset\+Mapper$<$ Map\+Policy $>$ \&info)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T , typename Map\+Policy $>$ void mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Get\+Matrix\+Size (
\begin{DoxyParamCaption}
\item[{size\+\_\+t \&}]{rows, }
\item[{size\+\_\+t \&}]{cols, }
\item[{{\bf Dataset\+Mapper}$<$ Map\+Policy $>$ \&}]{info}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classmlpack_1_1data_1_1LoadCSV_ad52ba08f12e45c089aaeb53017a16168}


Peek at the file to determine the number of rows and columns in the matrix, assuming a non-\/transposed matrix. 

This will also take a first pass over the data for \doxyref{Dataset\+Mapper}{p.}{classmlpack_1_1data_1_1DatasetMapper}, if Map\+Policy\+::\+Needs\+First\+Pass is true. The info object will be re-\/initialized with the correct dimensionality.


\begin{DoxyParams}{Parameters}
{\em rows} & Variable to be filled with the number of rows. \\
\hline
{\em cols} & Variable to be filled with the number of columns. \\
\hline
{\em info} & \doxyref{Dataset\+Mapper}{p.}{classmlpack_1_1data_1_1DatasetMapper} object to use for first pass. \\
\hline
\end{DoxyParams}


Definition at line 73 of file load\+\_\+csv.\+hpp.



References Create\+Char\+Rule(), in\+File, and string().

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!Get\+Transpose\+Matrix\+Size@{Get\+Transpose\+Matrix\+Size}}
\index{Get\+Transpose\+Matrix\+Size@{Get\+Transpose\+Matrix\+Size}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{Get\+Transpose\+Matrix\+Size(size\+\_\+t \&rows, size\+\_\+t \&cols, Dataset\+Mapper$<$ Map\+Policy $>$ \&info)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T , typename Map\+Policy $>$ void mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Get\+Transpose\+Matrix\+Size (
\begin{DoxyParamCaption}
\item[{size\+\_\+t \&}]{rows, }
\item[{size\+\_\+t \&}]{cols, }
\item[{{\bf Dataset\+Mapper}$<$ Map\+Policy $>$ \&}]{info}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classmlpack_1_1data_1_1LoadCSV_ada3323a7ca0ec5f955fb26ab10d05f5d}


Definition at line 133 of file load\+\_\+csv.\+hpp.



References Create\+Char\+Rule(), in\+File, and string().

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!Load@{Load}}
\index{Load@{Load}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{Load(arma\+::\+Mat$<$ T $>$ \&inout, Dataset\+Mapper$<$ Policy\+Type $>$ \&info\+Set, bool transpose=true)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T , typename Policy\+Type $>$ void mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Load (
\begin{DoxyParamCaption}
\item[{arma\+::\+Mat$<$ T $>$ \&}]{inout, }
\item[{{\bf Dataset\+Mapper}$<$ Policy\+Type $>$ \&}]{info\+Set, }
\item[{bool}]{transpose = {\ttfamily true}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classmlpack_1_1data_1_1LoadCSV_ae13f7084cf28e281b3aa822f0ce04fe7}


Definition at line 42 of file load\+\_\+csv.\+hpp.



References Can\+Open(), Col\+Size(), Non\+Tranpose\+Parse(), Row\+Size(), and Tranpose\+Parse().

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!Non\+Tranpose\+Parse@{Non\+Tranpose\+Parse}}
\index{Non\+Tranpose\+Parse@{Non\+Tranpose\+Parse}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{Non\+Tranpose\+Parse(arma\+::\+Mat$<$ T $>$ \&inout, Dataset\+Mapper$<$ Policy\+Type $>$ \&info\+Set)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T , typename Policy\+Type $>$ void mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Non\+Tranpose\+Parse (
\begin{DoxyParamCaption}
\item[{arma\+::\+Mat$<$ T $>$ \&}]{inout, }
\item[{{\bf Dataset\+Mapper}$<$ Policy\+Type $>$ \&}]{info\+Set}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\label{classmlpack_1_1data_1_1LoadCSV_a3dc03a3b1baec22fa1bb79f670104478}


Definition at line 212 of file load\+\_\+csv.\+hpp.



References Create\+Char\+Rule(), in\+File, and string().



Referenced by Load().

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!Row\+Size@{Row\+Size}}
\index{Row\+Size@{Row\+Size}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{Row\+Size()}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Row\+Size (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classmlpack_1_1data_1_1LoadCSV_a4f9bb3dcd883e33617bfa451e830c01d}


Referenced by Load().

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!Tranpose\+Parse@{Tranpose\+Parse}}
\index{Tranpose\+Parse@{Tranpose\+Parse}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{Tranpose\+Parse(arma\+::\+Mat$<$ T $>$ \&inout, Dataset\+Mapper$<$ Policy\+Type $>$ \&info\+Set)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T , typename Policy\+Type $>$ void mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Tranpose\+Parse (
\begin{DoxyParamCaption}
\item[{arma\+::\+Mat$<$ T $>$ \&}]{inout, }
\item[{{\bf Dataset\+Mapper}$<$ Policy\+Type $>$ \&}]{info\+Set}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\label{classmlpack_1_1data_1_1LoadCSV_acb5e7fc11c378f4812a24218f8288fc1}


Definition at line 260 of file load\+\_\+csv.\+hpp.



References Tranpose\+Parse\+Impl().



Referenced by Load().

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!Tranpose\+Parse\+Impl@{Tranpose\+Parse\+Impl}}
\index{Tranpose\+Parse\+Impl@{Tranpose\+Parse\+Impl}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{Tranpose\+Parse\+Impl(arma\+::\+Mat$<$ T $>$ \&inout, Dataset\+Mapper$<$ Policy\+Type $>$ \&info\+Set)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T , typename Policy\+Type $>$ bool mlpack\+::data\+::\+Load\+C\+S\+V\+::\+Tranpose\+Parse\+Impl (
\begin{DoxyParamCaption}
\item[{arma\+::\+Mat$<$ T $>$ \&}]{inout, }
\item[{{\bf Dataset\+Mapper}$<$ Policy\+Type $>$ \&}]{info\+Set}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\label{classmlpack_1_1data_1_1LoadCSV_a404ab555e4f50364808bdfe847bb6de4}


Definition at line 272 of file load\+\_\+csv.\+hpp.



References Create\+Char\+Rule(), in\+File, and string().



Referenced by Tranpose\+Parse().



\subsection{Member Data Documentation}
\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!extension@{extension}}
\index{extension@{extension}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{extension}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std\+::string} mlpack\+::data\+::\+Load\+C\+S\+V\+::extension\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1data_1_1LoadCSV_aabe360c952da56ee91b64ade44b9e24d}


Definition at line 351 of file load\+\_\+csv.\+hpp.



Referenced by Create\+Num\+Rule().

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!fatal\+If\+Open\+Fail@{fatal\+If\+Open\+Fail}}
\index{fatal\+If\+Open\+Fail@{fatal\+If\+Open\+Fail}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{fatal\+If\+Open\+Fail}]{\setlength{\rightskip}{0pt plus 5cm}bool mlpack\+::data\+::\+Load\+C\+S\+V\+::fatal\+If\+Open\+Fail\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1data_1_1LoadCSV_a8a11c9e0906d6ec36776dcfd0732b3d6}


Definition at line 352 of file load\+\_\+csv.\+hpp.

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!file\+Name@{file\+Name}}
\index{file\+Name@{file\+Name}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{file\+Name}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std\+::string} mlpack\+::data\+::\+Load\+C\+S\+V\+::file\+Name\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1data_1_1LoadCSV_ac510e24026756943cf7466d34e2c1485}


Definition at line 353 of file load\+\_\+csv.\+hpp.

\index{mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}!in\+File@{in\+File}}
\index{in\+File@{in\+File}!mlpack\+::data\+::\+Load\+C\+SV@{mlpack\+::data\+::\+Load\+C\+SV}}
\subsubsection[{in\+File}]{\setlength{\rightskip}{0pt plus 5cm}std\+::ifstream mlpack\+::data\+::\+Load\+C\+S\+V\+::in\+File\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1data_1_1LoadCSV_abedd86c7536f0d5d3b1be168dcccabd9}


Definition at line 354 of file load\+\_\+csv.\+hpp.



Referenced by Get\+Matrix\+Size(), Get\+Transpose\+Matrix\+Size(), Non\+Tranpose\+Parse(), and Tranpose\+Parse\+Impl().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/mlpack/core/data/{\bf load\+\_\+csv.\+hpp}\end{DoxyCompactItemize}
