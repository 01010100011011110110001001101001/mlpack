\section{mlpack\+:\+:cf\+:\+:CF Class Reference}
\label{classmlpack_1_1cf_1_1CF}\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}


This class implements Collaborative Filtering (\doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF}).  


\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct {\bf Candidate\+Cmp}
\begin{DoxyCompactList}\small\item\em Compare two candidates based on the value. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf CF} (const size\+\_\+t {\bf num\+Users\+For\+Similarity}=5, const size\+\_\+t {\bf rank}=0)
\begin{DoxyCompactList}\small\item\em Initialize the \doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF} object without performing any factorization. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Factorizer\+Type  = amf\+::\+N\+M\+F\+A\+L\+S\+Factorizer$>$ }\\{\bf CF} (const arma\+::mat \&data, Factorizer\+Type factorizer=Factorizer\+Type(), const size\+\_\+t {\bf num\+Users\+For\+Similarity}=5, const size\+\_\+t {\bf rank}=0)
\begin{DoxyCompactList}\small\item\em Initialize the \doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF} object using an instantiated factorizer, immediately factorizing the given data to create a model. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Factorizer\+Type  = amf\+::\+N\+M\+F\+A\+L\+S\+Factorizer$>$ }\\{\bf CF} (const arma\+::sp\+\_\+mat \&data, Factorizer\+Type factorizer=Factorizer\+Type(), const size\+\_\+t {\bf num\+Users\+For\+Similarity}=5, const size\+\_\+t {\bf rank}=0, const typename {\bf std\+::enable\+\_\+if\+\_\+t}$<$ !{\bf Factorizer\+Traits}$<$ Factorizer\+Type $>$\+::Uses\+Coordinate\+List $>$ $\ast$=0)
\begin{DoxyCompactList}\small\item\em Initialize the \doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF} object using an instantiated factorizer, immediately factorizing the given data to create a model. \end{DoxyCompactList}\item 
const arma\+::sp\+\_\+mat \& {\bf Cleaned\+Data} () const 
\begin{DoxyCompactList}\small\item\em Get the cleaned data matrix. \end{DoxyCompactList}\item 
void {\bf Get\+Recommendations} (const size\+\_\+t num\+Recs, arma\+::\+Mat$<$ size\+\_\+t $>$ \&recommendations)
\begin{DoxyCompactList}\small\item\em Generates the given number of recommendations for all users. \end{DoxyCompactList}\item 
void {\bf Get\+Recommendations} (const size\+\_\+t num\+Recs, arma\+::\+Mat$<$ size\+\_\+t $>$ \&recommendations, const arma\+::\+Col$<$ size\+\_\+t $>$ \&users)
\begin{DoxyCompactList}\small\item\em Generates the given number of recommendations for the specified users. \end{DoxyCompactList}\item 
const arma\+::mat \& {\bf H} () const 
\begin{DoxyCompactList}\small\item\em Get the Item Matrix. \end{DoxyCompactList}\item 
void {\bf Num\+Users\+For\+Similarity} (const size\+\_\+t num)
\begin{DoxyCompactList}\small\item\em Sets number of users for calculating similarity. \end{DoxyCompactList}\item 
size\+\_\+t {\bf Num\+Users\+For\+Similarity} () const 
\begin{DoxyCompactList}\small\item\em Gets number of users for calculating similarity. \end{DoxyCompactList}\item 
double {\bf Predict} (const size\+\_\+t user, const size\+\_\+t item) const 
\begin{DoxyCompactList}\small\item\em Predict the rating of an item by a particular user. \end{DoxyCompactList}\item 
void {\bf Predict} (const arma\+::\+Mat$<$ size\+\_\+t $>$ \&combinations, arma\+::vec \&predictions) const 
\begin{DoxyCompactList}\small\item\em Predict ratings for each user-\/item combination in the given coordinate list matrix. \end{DoxyCompactList}\item 
void {\bf Rank} (const size\+\_\+t rank\+Value)
\begin{DoxyCompactList}\small\item\em Sets rank parameter for matrix factorization. \end{DoxyCompactList}\item 
size\+\_\+t {\bf Rank} () const 
\begin{DoxyCompactList}\small\item\em Gets rank parameter for matrix factorization. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Archive $>$ }\\void {\bf Serialize} (Archive \&ar, const unsigned int)
\begin{DoxyCompactList}\small\item\em Serialize the \doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF} model to the given archive. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Factorizer\+Type  = amf\+::\+N\+M\+F\+A\+L\+S\+Factorizer$>$ }\\void {\bf Train} (const arma\+::mat \&data, Factorizer\+Type factorizer=Factorizer\+Type())
\begin{DoxyCompactList}\small\item\em Train the \doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF} model (i.\+e. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Factorizer\+Type  = amf\+::\+N\+M\+F\+A\+L\+S\+Factorizer$>$ }\\void {\bf Train} (const arma\+::sp\+\_\+mat \&data, Factorizer\+Type factorizer=Factorizer\+Type(), const typename {\bf std\+::enable\+\_\+if\+\_\+t}$<$ !{\bf Factorizer\+Traits}$<$ Factorizer\+Type $>$\+::Uses\+Coordinate\+List $>$ $\ast$=0)
\begin{DoxyCompactList}\small\item\em Train the \doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF} model (i.\+e. \end{DoxyCompactList}\item 
const arma\+::mat \& {\bf W} () const 
\begin{DoxyCompactList}\small\item\em Get the User Matrix. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void {\bf Clean\+Data} (const arma\+::mat \&data, arma\+::sp\+\_\+mat \&{\bf cleaned\+Data})
\begin{DoxyCompactList}\small\item\em Converts the User, Item, Value Matrix to User-\/\+Item Table. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::pair$<$ double, size\+\_\+t $>$ {\bf Candidate}
\begin{DoxyCompactList}\small\item\em Candidate represents a possible recommendation (value, item). \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
arma\+::sp\+\_\+mat {\bf cleaned\+Data}
\begin{DoxyCompactList}\small\item\em Cleaned data matrix. \end{DoxyCompactList}\item 
arma\+::mat {\bf h}
\begin{DoxyCompactList}\small\item\em Item matrix. \end{DoxyCompactList}\item 
size\+\_\+t {\bf num\+Users\+For\+Similarity}
\begin{DoxyCompactList}\small\item\em Number of users for similarity. \end{DoxyCompactList}\item 
size\+\_\+t {\bf rank}
\begin{DoxyCompactList}\small\item\em Rank used for matrix factorization. \end{DoxyCompactList}\item 
arma\+::mat {\bf w}
\begin{DoxyCompactList}\small\item\em User matrix. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class implements Collaborative Filtering (\doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF}). 

This implementation presently supports Alternating Least Squares (A\+LS) for collaborative filtering.

A simple example of how to run Collaborative Filtering is shown below.


\begin{DoxyCode}
\textcolor{keyword}{extern} arma::mat data; \textcolor{comment}{// (user, item, rating) table}
\textcolor{keyword}{extern} arma::Col<size\_t> users; \textcolor{comment}{// users seeking recommendations}
arma::Mat<size\_t> recommendations; \textcolor{comment}{// Recommendations}

CF cf(data); \textcolor{comment}{// Default options.}

\textcolor{comment}{// Generate 10 recommendations for all users.}
cf.GetRecommendations(10, recommendations);

\textcolor{comment}{// Generate 10 recommendations for specified users.}
cf.GetRecommendations(10, recommendations, users);
\end{DoxyCode}


The data matrix is a (user, item, rating) table. Each column in the matrix should have three rows. The first represents the user; the second represents the item; and the third represents the rating. The user and item, while they are in a matrix that holds doubles, should hold integer (or size\+\_\+t) values. The user and item indices are assumed to start at 0.


\begin{DoxyTemplParams}{Template Parameters}
{\em Factorizer\+Type} & The type of matrix factorization to use to decompose the rating matrix (a W and H matrix). This must implement the method Apply(arma\+::sp\+\_\+mat\& data, size\+\_\+t rank, arma\+::mat\& W, arma\+::mat\& H). \\
\hline
\end{DoxyTemplParams}


Definition at line 80 of file cf.\+hpp.



\subsection{Member Typedef Documentation}
\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Candidate@{Candidate}}
\index{Candidate@{Candidate}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Candidate}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::pair$<$double, size\+\_\+t$>$ {\bf mlpack\+::cf\+::\+C\+F\+::\+Candidate}\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1cf_1_1CF_a91246d2c0be1f78414e4c842b317456f}


Candidate represents a possible recommendation (value, item). 



Definition at line 266 of file cf.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!CF@{CF}}
\index{CF@{CF}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{C\+F(const size\+\_\+t num\+Users\+For\+Similarity=5, const size\+\_\+t rank=0)}]{\setlength{\rightskip}{0pt plus 5cm}mlpack\+::cf\+::\+C\+F\+::\+CF (
\begin{DoxyParamCaption}
\item[{const size\+\_\+t}]{num\+Users\+For\+Similarity = {\ttfamily 5}, }
\item[{const size\+\_\+t}]{rank = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\label{classmlpack_1_1cf_1_1CF_abfe08bf5832880b9ac532453536b5648}


Initialize the \doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF} object without performing any factorization. 

Be sure to call \doxyref{Train()}{p.}{classmlpack_1_1cf_1_1CF_ab1f6b2154dc41152880e78dde66f13d5} before calling \doxyref{Get\+Recommendations()}{p.}{classmlpack_1_1cf_1_1CF_a750e80f81b8361cfdd713e1179e9e952} or any other functions! \index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!CF@{CF}}
\index{CF@{CF}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{C\+F(const arma\+::mat \&data, Factorizer\+Type factorizer=\+Factorizer\+Type(), const size\+\_\+t num\+Users\+For\+Similarity=5, const size\+\_\+t rank=0)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Factorizer\+Type  = amf\+::\+N\+M\+F\+A\+L\+S\+Factorizer$>$ mlpack\+::cf\+::\+C\+F\+::\+CF (
\begin{DoxyParamCaption}
\item[{const arma\+::mat \&}]{data, }
\item[{Factorizer\+Type}]{factorizer = {\ttfamily FactorizerType()}, }
\item[{const size\+\_\+t}]{num\+Users\+For\+Similarity = {\ttfamily 5}, }
\item[{const size\+\_\+t}]{rank = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\label{classmlpack_1_1cf_1_1CF_a84b7548da97de84b862205146a25f294}


Initialize the \doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF} object using an instantiated factorizer, immediately factorizing the given data to create a model. 

There are parameters that can be set; default values are provided for each of them. If the rank is left unset (or is set to 0), a simple density-\/based heuristic will be used to choose a rank.

The provided dataset should be a coordinate list; that is, a 3-\/row matrix where each column corresponds to a (user, item, rating) entry in the matrix.


\begin{DoxyParams}{Parameters}
{\em data} & Data matrix\+: coordinate list or dense matrix. \\
\hline
{\em factorizer} & Instantiated factorizer object. \\
\hline
{\em num\+Users\+For\+Similarity} & Size of the neighborhood. \\
\hline
{\em rank} & Rank parameter for matrix factorization. \\
\hline
\end{DoxyParams}
\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!CF@{CF}}
\index{CF@{CF}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{C\+F(const arma\+::sp\+\_\+mat \&data, Factorizer\+Type factorizer=\+Factorizer\+Type(), const size\+\_\+t num\+Users\+For\+Similarity=5, const size\+\_\+t rank=0, const typename std\+::enable\+\_\+if\+\_\+t$<$ "!Factorizer\+Traits$<$ Factorizer\+Type $>$\+::\+Uses\+Coordinate\+List $>$ $\ast$=0)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Factorizer\+Type  = amf\+::\+N\+M\+F\+A\+L\+S\+Factorizer$>$ mlpack\+::cf\+::\+C\+F\+::\+CF (
\begin{DoxyParamCaption}
\item[{const arma\+::sp\+\_\+mat \&}]{data, }
\item[{Factorizer\+Type}]{factorizer = {\ttfamily FactorizerType()}, }
\item[{const size\+\_\+t}]{num\+Users\+For\+Similarity = {\ttfamily 5}, }
\item[{const size\+\_\+t}]{rank = {\ttfamily 0}, }
\item[{const typename {\bf std\+::enable\+\_\+if\+\_\+t}$<$ !{\bf Factorizer\+Traits}$<$ Factorizer\+Type $>$\+::Uses\+Coordinate\+List $>$ $\ast$}]{ = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\label{classmlpack_1_1cf_1_1CF_a3c7bf3d8b701f1fa24fce1dc04057c6e}


Initialize the \doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF} object using an instantiated factorizer, immediately factorizing the given data to create a model. 

There are parameters that can be set; default values are provided for each of them. If the rank is left unset (or is set to 0), a simple density-\/based heuristic will be used to choose a rank. Data will be considered in the format of items vs. users and will be passed directly to the factorizer without cleaning. This overload of the constructor will only be available if the factorizer does not use a coordinate list (i.\+e. if Uses\+Coordinate\+List is false).

The U and T template parameters are for S\+F\+I\+N\+AE, so that this overload is only available when the Factorizer\+Type uses a coordinate list.


\begin{DoxyParams}{Parameters}
{\em data} & Sparse matrix data. \\
\hline
{\em factorizer} & Instantiated factorizer object. \\
\hline
{\em num\+Users\+For\+Similarity} & Size of the neighborhood. \\
\hline
{\em rank} & Rank parameter for matrix factorization. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Clean\+Data@{Clean\+Data}}
\index{Clean\+Data@{Clean\+Data}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Clean\+Data(const arma\+::mat \&data, arma\+::sp\+\_\+mat \&cleaned\+Data)}]{\setlength{\rightskip}{0pt plus 5cm}static void mlpack\+::cf\+::\+C\+F\+::\+Clean\+Data (
\begin{DoxyParamCaption}
\item[{const arma\+::mat \&}]{data, }
\item[{arma\+::sp\+\_\+mat \&}]{cleaned\+Data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\label{classmlpack_1_1cf_1_1CF_acd2c6a96690e0811245451f72ddb0ce6}


Converts the User, Item, Value Matrix to User-\/\+Item Table. 

\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Cleaned\+Data@{Cleaned\+Data}}
\index{Cleaned\+Data@{Cleaned\+Data}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Cleaned\+Data() const }]{\setlength{\rightskip}{0pt plus 5cm}const arma\+::sp\+\_\+mat\& mlpack\+::cf\+::\+C\+F\+::\+Cleaned\+Data (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classmlpack_1_1cf_1_1CF_ad45412f766fd70deae43b398430c0c70}


Get the cleaned data matrix. 



Definition at line 199 of file cf.\+hpp.

\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Get\+Recommendations@{Get\+Recommendations}}
\index{Get\+Recommendations@{Get\+Recommendations}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Get\+Recommendations(const size\+\_\+t num\+Recs, arma\+::\+Mat$<$ size\+\_\+t $>$ \&recommendations)}]{\setlength{\rightskip}{0pt plus 5cm}void mlpack\+::cf\+::\+C\+F\+::\+Get\+Recommendations (
\begin{DoxyParamCaption}
\item[{const size\+\_\+t}]{num\+Recs, }
\item[{arma\+::\+Mat$<$ size\+\_\+t $>$ \&}]{recommendations}
\end{DoxyParamCaption}
)}\label{classmlpack_1_1cf_1_1CF_a750e80f81b8361cfdd713e1179e9e952}


Generates the given number of recommendations for all users. 


\begin{DoxyParams}{Parameters}
{\em num\+Recs} & Number of Recommendations \\
\hline
{\em recommendations} & Matrix to save recommendations into. \\
\hline
\end{DoxyParams}
\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Get\+Recommendations@{Get\+Recommendations}}
\index{Get\+Recommendations@{Get\+Recommendations}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Get\+Recommendations(const size\+\_\+t num\+Recs, arma\+::\+Mat$<$ size\+\_\+t $>$ \&recommendations, const arma\+::\+Col$<$ size\+\_\+t $>$ \&users)}]{\setlength{\rightskip}{0pt plus 5cm}void mlpack\+::cf\+::\+C\+F\+::\+Get\+Recommendations (
\begin{DoxyParamCaption}
\item[{const size\+\_\+t}]{num\+Recs, }
\item[{arma\+::\+Mat$<$ size\+\_\+t $>$ \&}]{recommendations, }
\item[{const arma\+::\+Col$<$ size\+\_\+t $>$ \&}]{users}
\end{DoxyParamCaption}
)}\label{classmlpack_1_1cf_1_1CF_a110f511fe79a90c1133df0fb213abaad}


Generates the given number of recommendations for the specified users. 


\begin{DoxyParams}{Parameters}
{\em num\+Recs} & Number of Recommendations \\
\hline
{\em recommendations} & Matrix to save recommendations \\
\hline
{\em users} & Users for which recommendations are to be generated \\
\hline
\end{DoxyParams}
\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!H@{H}}
\index{H@{H}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{H() const }]{\setlength{\rightskip}{0pt plus 5cm}const arma\+::mat\& mlpack\+::cf\+::\+C\+F\+::H (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classmlpack_1_1cf_1_1CF_a1f168b756723bc158997ec26332128b7}


Get the Item Matrix. 



Definition at line 197 of file cf.\+hpp.

\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Num\+Users\+For\+Similarity@{Num\+Users\+For\+Similarity}}
\index{Num\+Users\+For\+Similarity@{Num\+Users\+For\+Similarity}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Num\+Users\+For\+Similarity(const size\+\_\+t num)}]{\setlength{\rightskip}{0pt plus 5cm}void mlpack\+::cf\+::\+C\+F\+::\+Num\+Users\+For\+Similarity (
\begin{DoxyParamCaption}
\item[{const size\+\_\+t}]{num}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classmlpack_1_1cf_1_1CF_a0077bbf91567fd19392a27c44b600633}


Sets number of users for calculating similarity. 



Definition at line 165 of file cf.\+hpp.



References mlpack\+::\+Log\+::\+Warn.

\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Num\+Users\+For\+Similarity@{Num\+Users\+For\+Similarity}}
\index{Num\+Users\+For\+Similarity@{Num\+Users\+For\+Similarity}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Num\+Users\+For\+Similarity() const }]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t mlpack\+::cf\+::\+C\+F\+::\+Num\+Users\+For\+Similarity (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classmlpack_1_1cf_1_1CF_afd989e7380c9e5209bdd81b207c5f3fa}


Gets number of users for calculating similarity. 



Definition at line 177 of file cf.\+hpp.

\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Predict@{Predict}}
\index{Predict@{Predict}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Predict(const size\+\_\+t user, const size\+\_\+t item) const }]{\setlength{\rightskip}{0pt plus 5cm}double mlpack\+::cf\+::\+C\+F\+::\+Predict (
\begin{DoxyParamCaption}
\item[{const size\+\_\+t}]{user, }
\item[{const size\+\_\+t}]{item}
\end{DoxyParamCaption}
) const}\label{classmlpack_1_1cf_1_1CF_a7d0fa02c1159db7306c25ad699afbf65}


Predict the rating of an item by a particular user. 


\begin{DoxyParams}{Parameters}
{\em user} & User to predict for. \\
\hline
{\em item} & Item to predict for. \\
\hline
\end{DoxyParams}
\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Predict@{Predict}}
\index{Predict@{Predict}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Predict(const arma\+::\+Mat$<$ size\+\_\+t $>$ \&combinations, arma\+::vec \&predictions) const }]{\setlength{\rightskip}{0pt plus 5cm}void mlpack\+::cf\+::\+C\+F\+::\+Predict (
\begin{DoxyParamCaption}
\item[{const arma\+::\+Mat$<$ size\+\_\+t $>$ \&}]{combinations, }
\item[{arma\+::vec \&}]{predictions}
\end{DoxyParamCaption}
) const}\label{classmlpack_1_1cf_1_1CF_a08dcd2b9349e7c203675547d7a53b3e8}


Predict ratings for each user-\/item combination in the given coordinate list matrix. 

The matrix \textquotesingle{}combinations\textquotesingle{} should have two rows and number of columns equal to the number of desired predictions. The first element of each column corresponds to the user index, and the second element of each column corresponds to the item index. The output vector \textquotesingle{}predictions\textquotesingle{} will have length equal to combinations.\+n\+\_\+cols, and predictions[i] will be equal to the prediction for the user/item combination in combinations.\+col(i).


\begin{DoxyParams}{Parameters}
{\em combinations} & User/item combinations to predict. \\
\hline
{\em predictions} & Predicted ratings for each user/item combination. \\
\hline
\end{DoxyParams}
\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Rank@{Rank}}
\index{Rank@{Rank}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Rank(const size\+\_\+t rank\+Value)}]{\setlength{\rightskip}{0pt plus 5cm}void mlpack\+::cf\+::\+C\+F\+::\+Rank (
\begin{DoxyParamCaption}
\item[{const size\+\_\+t}]{rank\+Value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classmlpack_1_1cf_1_1CF_ab74fd3fd9d29c8cac7fd773f3bcf6555}


Sets rank parameter for matrix factorization. 



Definition at line 183 of file cf.\+hpp.

\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Rank@{Rank}}
\index{Rank@{Rank}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Rank() const }]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t mlpack\+::cf\+::\+C\+F\+::\+Rank (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classmlpack_1_1cf_1_1CF_a37871ff8c6c6cc94f6fecfaa3ba8b05d}


Gets rank parameter for matrix factorization. 



Definition at line 189 of file cf.\+hpp.

\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Serialize@{Serialize}}
\index{Serialize@{Serialize}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Serialize(\+Archive \&ar, const unsigned int)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Archive $>$ void mlpack\+::cf\+::\+C\+F\+::\+Serialize (
\begin{DoxyParamCaption}
\item[{Archive \&}]{ar, }
\item[{const unsigned}]{int}
\end{DoxyParamCaption}
)}\label{classmlpack_1_1cf_1_1CF_aefcee66f4d248da2cfc77064e03b0115}


Serialize the \doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF} model to the given archive. 

\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Train@{Train}}
\index{Train@{Train}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Train(const arma\+::mat \&data, Factorizer\+Type factorizer=\+Factorizer\+Type())}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Factorizer\+Type  = amf\+::\+N\+M\+F\+A\+L\+S\+Factorizer$>$ void mlpack\+::cf\+::\+C\+F\+::\+Train (
\begin{DoxyParamCaption}
\item[{const arma\+::mat \&}]{data, }
\item[{Factorizer\+Type}]{factorizer = {\ttfamily FactorizerType()}}
\end{DoxyParamCaption}
)}\label{classmlpack_1_1cf_1_1CF_ab1f6b2154dc41152880e78dde66f13d5}


Train the \doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF} model (i.\+e. 

factorize the input matrix) using the parameters that have already been set for the model (specifically, the rank parameter), and optionally, using the given Factorizer\+Type.


\begin{DoxyParams}{Parameters}
{\em data} & Input dataset; coordinate list or dense matrix. \\
\hline
{\em factorizer} & Instantiated factorizer. \\
\hline
\end{DoxyParams}
\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!Train@{Train}}
\index{Train@{Train}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{Train(const arma\+::sp\+\_\+mat \&data, Factorizer\+Type factorizer=\+Factorizer\+Type(), const typename std\+::enable\+\_\+if\+\_\+t$<$ "!Factorizer\+Traits$<$ Factorizer\+Type $>$\+::\+Uses\+Coordinate\+List $>$ $\ast$=0)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Factorizer\+Type  = amf\+::\+N\+M\+F\+A\+L\+S\+Factorizer$>$ void mlpack\+::cf\+::\+C\+F\+::\+Train (
\begin{DoxyParamCaption}
\item[{const arma\+::sp\+\_\+mat \&}]{data, }
\item[{Factorizer\+Type}]{factorizer = {\ttfamily FactorizerType()}, }
\item[{const typename {\bf std\+::enable\+\_\+if\+\_\+t}$<$ !{\bf Factorizer\+Traits}$<$ Factorizer\+Type $>$\+::Uses\+Coordinate\+List $>$ $\ast$}]{ = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\label{classmlpack_1_1cf_1_1CF_a33f979fae58921d9fbf1b9ca302536f8}


Train the \doxyref{CF}{p.}{classmlpack_1_1cf_1_1CF} model (i.\+e. 

factorize the input matrix) using the parameters that have already been set for the model (specifically, the rank parameter), and optionally, using the given Factorizer\+Type.


\begin{DoxyParams}{Parameters}
{\em data} & Sparse matrix data. \\
\hline
{\em factorizer} & Instantiated factorizer. \\
\hline
\end{DoxyParams}
\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!W@{W}}
\index{W@{W}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{W() const }]{\setlength{\rightskip}{0pt plus 5cm}const arma\+::mat\& mlpack\+::cf\+::\+C\+F\+::W (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classmlpack_1_1cf_1_1CF_abb5a7d4887a68c7551807464ffcc4175}


Get the User Matrix. 



Definition at line 195 of file cf.\+hpp.



\subsection{Member Data Documentation}
\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!cleaned\+Data@{cleaned\+Data}}
\index{cleaned\+Data@{cleaned\+Data}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{cleaned\+Data}]{\setlength{\rightskip}{0pt plus 5cm}arma\+::sp\+\_\+mat mlpack\+::cf\+::\+C\+F\+::cleaned\+Data\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1cf_1_1CF_a1ecb77b22bae1edeab4020cbe669e9f7}


Cleaned data matrix. 



Definition at line 263 of file cf.\+hpp.

\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!h@{h}}
\index{h@{h}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{h}]{\setlength{\rightskip}{0pt plus 5cm}arma\+::mat mlpack\+::cf\+::\+C\+F\+::h\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1cf_1_1CF_a69afa043f85f8142fc8d4516dad21c3d}


Item matrix. 



Definition at line 261 of file cf.\+hpp.

\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!num\+Users\+For\+Similarity@{num\+Users\+For\+Similarity}}
\index{num\+Users\+For\+Similarity@{num\+Users\+For\+Similarity}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{num\+Users\+For\+Similarity}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t mlpack\+::cf\+::\+C\+F\+::num\+Users\+For\+Similarity\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1cf_1_1CF_a61d6d860984a5d012d10d1f16cec5e98}


Number of users for similarity. 



Definition at line 255 of file cf.\+hpp.

\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!rank@{rank}}
\index{rank@{rank}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{rank}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t mlpack\+::cf\+::\+C\+F\+::rank\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1cf_1_1CF_aee8c0fc0008741132316a422eb4357c2}


Rank used for matrix factorization. 



Definition at line 257 of file cf.\+hpp.

\index{mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}!w@{w}}
\index{w@{w}!mlpack\+::cf\+::\+CF@{mlpack\+::cf\+::\+CF}}
\subsubsection[{w}]{\setlength{\rightskip}{0pt plus 5cm}arma\+::mat mlpack\+::cf\+::\+C\+F\+::w\hspace{0.3cm}{\ttfamily [private]}}\label{classmlpack_1_1cf_1_1CF_ab042e5fd412d335ac462f9f0f8445975}


User matrix. 



Definition at line 259 of file cf.\+hpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/mlpack/methods/cf/{\bf cf.\+hpp}\end{DoxyCompactItemize}
